function cov_2ist90zvha(){var path="C:\\cygwin64\\home\\sofia\\dbwebb-kurser\\jsramverk\\backend\\db\\database.js";var hash="f005199e0ac6a2ec0e3a51e91ffd2211ece80c81";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\cygwin64\\home\\sofia\\dbwebb-kurser\\jsramverk\\backend\\db\\database.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:44}},"1":{start:{line:2,column:23},end:{line:2,column:29}},"2":{start:{line:4,column:17},end:{line:25,column:1}},"3":{start:{line:6,column:15},end:{line:6,column:114}},"4":{start:{line:8,column:5},end:{line:10,column:6}},"5":{start:{line:9,column:9},end:{line:9,column:48}},"6":{start:{line:12,column:21},end:{line:15,column:7}},"7":{start:{line:16,column:16},end:{line:16,column:33}},"8":{start:{line:17,column:24},end:{line:17,column:59}},"9":{start:{line:19,column:5},end:{line:23,column:7}},"10":{start:{line:27,column:0},end:{line:27,column:26}}},fnMap:{"0":{name:"getDb",decl:{start:{line:5,column:23},end:{line:5,column:28}},loc:{start:{line:5,column:31},end:{line:24,column:2}},line:5}},branchMap:{"0":{loc:{start:{line:8,column:5},end:{line:10,column:6}},type:"if",locations:[{start:{line:8,column:5},end:{line:10,column:6}},{start:{line:8,column:5},end:{line:10,column:6}}],line:8}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f005199e0ac6a2ec0e3a51e91ffd2211ece80c81"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2ist90zvha=function(){return actualCoverage;};}return actualCoverage;}cov_2ist90zvha();const mongo=(cov_2ist90zvha().s[0]++,require("mongodb").MongoClient);const collectionName=(cov_2ist90zvha().s[1]++,"docs");const database=(cov_2ist90zvha().s[2]++,{getDb:async function getDb(){cov_2ist90zvha().f[0]++;let dsn=(cov_2ist90zvha().s[3]++,`mongodb+srv://texteditor:texteditor@cluster0.lwrti.mongodb.net/editor?retryWrites=true&w=majority`);cov_2ist90zvha().s[4]++;if(process.env.NODE_ENV==='test'){cov_2ist90zvha().b[0][0]++;cov_2ist90zvha().s[5]++;dsn="mongodb://localhost:27017/test";}else{cov_2ist90zvha().b[0][1]++;}const client=(cov_2ist90zvha().s[6]++,await mongo.connect(dsn,{useNewUrlParser:true,useUnifiedTopology:true}));const db=(cov_2ist90zvha().s[7]++,await client.db());const collection=(cov_2ist90zvha().s[8]++,await db.collection(collectionName));cov_2ist90zvha().s[9]++;return{db:db,collection:collection,client:client};}});cov_2ist90zvha().s[10]++;module.exports=database;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIm1vbmdvIiwicmVxdWlyZSIsIk1vbmdvQ2xpZW50IiwiY29sbGVjdGlvbk5hbWUiLCJkYXRhYmFzZSIsImdldERiIiwiZHNuIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY2xpZW50IiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImRiIiwiY29sbGVjdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJnbkRBZVk7MkZBZlosS0FBTUEsQ0FBQUEsS0FBSywwQkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkMsV0FBdEIsQ0FBWCxDQUNBLEtBQU1DLENBQUFBLGNBQWMsMEJBQUcsTUFBSCxDQUFwQixDQUVBLEtBQU1DLENBQUFBLFFBQVEsMEJBQUcsQ0FDaEJDLEtBQUssQ0FBRSxjQUFlQSxDQUFBQSxLQUFmLEVBQXVCLHlCQUMxQixHQUFJQyxDQUFBQSxHQUFHLDBCQUFJLG1HQUFKLENBQVAsQ0FEMEIsd0JBRzFCLEdBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEdBQXlCLE1BQTdCLENBQXFDLG9EQUNqQ0gsR0FBRyxDQUFHLGdDQUFOLENBQ0gsQ0FGRCxpQ0FJQSxLQUFNSSxDQUFBQSxNQUFNLDBCQUFJLEtBQU1WLENBQUFBLEtBQUssQ0FBQ1csT0FBTixDQUFjTCxHQUFkLENBQW1CLENBQ3JDTSxlQUFlLENBQUUsSUFEb0IsQ0FFckNDLGtCQUFrQixDQUFFLElBRmlCLENBQW5CLENBQVYsQ0FBWixDQUlBLEtBQU1DLENBQUFBLEVBQUUsMEJBQUcsS0FBTUosQ0FBQUEsTUFBTSxDQUFDSSxFQUFQLEVBQVQsQ0FBUixDQUNBLEtBQU1DLENBQUFBLFVBQVUsMEJBQUcsS0FBTUQsQ0FBQUEsRUFBRSxDQUFDQyxVQUFILENBQWNaLGNBQWQsQ0FBVCxDQUFoQixDQVowQix3QkFjMUIsTUFBTyxDQUNIVyxFQUFFLENBQUVBLEVBREQsQ0FFSEMsVUFBVSxDQUFFQSxVQUZULENBR0hMLE1BQU0sQ0FBRUEsTUFITCxDQUFQLENBS0gsQ0FwQmUsQ0FBSCxDQUFkLEMseUJBdUJBTSxNQUFNLENBQUNDLE9BQVAsQ0FBaUJiLFFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ28gPSByZXF1aXJlKFwibW9uZ29kYlwiKS5Nb25nb0NsaWVudDtcclxuY29uc3QgY29sbGVjdGlvbk5hbWUgPSBcImRvY3NcIjtcclxuXHJcbmNvbnN0IGRhdGFiYXNlID0ge1xyXG4gZ2V0RGI6IGFzeW5jIGZ1bmN0aW9uIGdldERiKCkge1xyXG4gICAgIGxldCBkc24gPSBgbW9uZ29kYitzcnY6Ly90ZXh0ZWRpdG9yOnRleHRlZGl0b3JAY2x1c3RlcjAubHdydGkubW9uZ29kYi5uZXQvZWRpdG9yP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWA7XHJcblxyXG4gICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XHJcbiAgICAgICAgIGRzbiA9IFwibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy90ZXN0XCI7XHJcbiAgICAgfVxyXG5cclxuICAgICBjb25zdCBjbGllbnQgID0gYXdhaXQgbW9uZ28uY29ubmVjdChkc24sIHtcclxuICAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICAgfSk7XHJcbiAgICAgY29uc3QgZGIgPSBhd2FpdCBjbGllbnQuZGIoKTtcclxuICAgICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZGIuY29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSk7XHJcblxyXG4gICAgIHJldHVybiB7XHJcbiAgICAgICAgIGRiOiBkYixcclxuICAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbixcclxuICAgICAgICAgY2xpZW50OiBjbGllbnQsXHJcbiAgICAgfTtcclxuIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZGF0YWJhc2U7XHJcbiJdfQ==