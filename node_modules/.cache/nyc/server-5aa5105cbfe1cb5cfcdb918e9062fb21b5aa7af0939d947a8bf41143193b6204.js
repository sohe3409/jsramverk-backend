"use strict";function cov_21rcbt9bay(){var path="C:\\cygwin64\\home\\sofia\\dbwebb-kurser\\jsramverk\\backend\\src\\server.js";var hash="286285554a42c6de0bd50d20b13c4f7dff57388c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\cygwin64\\home\\sofia\\dbwebb-kurser\\jsramverk\\backend\\src\\server.js",statementMap:{"0":{start:{line:3,column:17},end:{line:3,column:45}},"1":{start:{line:10,column:8},end:{line:19,column:9}},"2":{start:{line:12,column:12},end:{line:12,column:40}},"3":{start:{line:14,column:12},end:{line:14,column:60}},"4":{start:{line:17,column:12},end:{line:17,column:35}},"5":{start:{line:18,column:12},end:{line:18,column:25}},"6":{start:{line:71,column:0},end:{line:76,column:2}}},fnMap:{"0":{name:"getDocs",decl:{start:{line:6,column:15},end:{line:6,column:22}},loc:{start:{line:6,column:25},end:{line:20,column:1}},line:6}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},f:{"0":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"286285554a42c6de0bd50d20b13c4f7dff57388c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_21rcbt9bay=function(){return actualCoverage;};}return actualCoverage;}cov_21rcbt9bay();const database=(cov_21rcbt9bay().s[0]++,require("../db/database.js"));async function getDocs(){cov_21rcbt9bay().f[0]++;let db;let result;cov_21rcbt9bay().s[1]++;try{cov_21rcbt9bay().s[2]++;// connect to db
db=await database.getDb();// get content
cov_21rcbt9bay().s[3]++;result=await db.collection.find({}).toArray();}finally{cov_21rcbt9bay().s[4]++;await db.client.close();cov_21rcbt9bay().s[5]++;return result;}}//
// async function createDoc(body) {
//   try {
//       await client.connect();
//       const database = client.db("editor");
//       const docs = database.collection("docs");
//       const doc = {
//           name: body.name,
//           content: body.content,
//       };
//       const result = await docs.insertOne(doc);
//       console.log(
//           `A new document with _id: ${result.insertedId} was created.`
//       );
//   } finally {
//       await client.close();
//   }
// }
//
//
// async function updateDoc(id, body) {
//     try {
//         await client.connect();
//         const db = client.db("editor");
//         const docs = db.collection("docs");
//         const filter = { _id: ObjectId(id) };
//         const options = { upsert: true };
//
//         const doc = {
//             $set: {
//                 name: body.name,
//                 content: body.content,
//             },
//         };
//
//         const result = await docs.updateOne(filter, doc);
//
//         if (result.matchedCount == 0) {
//             console.log("No match");
//         } else {
//             console.log(
//                 `${result.matchedCount} , updated ${result.modifiedCount}`
//             );
//         }
//     } finally {
//         await client.close();
//     }
// }
cov_21rcbt9bay().s[6]++;module.exports={getDocs// getDoc,
// createDoc,
// updateDoc
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJkYXRhYmFzZSIsInJlcXVpcmUiLCJnZXREb2NzIiwiZGIiLCJyZXN1bHQiLCJnZXREYiIsImNvbGxlY3Rpb24iLCJmaW5kIiwidG9BcnJheSIsImNsaWVudCIsImNsb3NlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsYSwrckNBZVk7MkZBYlosS0FBTUEsQ0FBQUEsUUFBUSwwQkFBR0MsT0FBTyxDQUFDLG1CQUFELENBQVYsQ0FBZCxDQUdBLGNBQWVDLENBQUFBLE9BQWYsRUFBeUIseUJBQ2pCLEdBQUlDLENBQUFBLEVBQUosQ0FDQSxHQUFJQyxDQUFBQSxNQUFKLENBRmlCLHdCQUlqQixHQUFJLHlCQUNBO0FBQ0FELEVBQUUsQ0FBRyxLQUFNSCxDQUFBQSxRQUFRLENBQUNLLEtBQVQsRUFBWCxDQUNBO0FBSEEsd0JBSUFELE1BQU0sQ0FBRyxLQUFNRCxDQUFBQSxFQUFFLENBQUNHLFVBQUgsQ0FBY0MsSUFBZCxDQUFtQixFQUFuQixFQUF1QkMsT0FBdkIsRUFBZixDQUNILENBTEQsT0FNUSx5QkFDSixLQUFNTCxDQUFBQSxFQUFFLENBQUNNLE1BQUgsQ0FBVUMsS0FBVixFQUFOLENBREksd0JBRUosTUFBT04sQ0FBQUEsTUFBUCxDQUNILENBQ1IsQ0FFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7d0JBRUFPLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNiVixPQUNBO0FBQ0E7QUFDQTtBQUphLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5jb25zdCBkYXRhYmFzZSA9IHJlcXVpcmUoXCIuLi9kYi9kYXRhYmFzZS5qc1wiKTtcclxuXHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXREb2NzKCkge1xyXG4gICAgICAgIGxldCBkYjtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBjb25uZWN0IHRvIGRiXHJcbiAgICAgICAgICAgIGRiID0gYXdhaXQgZGF0YWJhc2UuZ2V0RGIoKTtcclxuICAgICAgICAgICAgLy8gZ2V0IGNvbnRlbnRcclxuICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbi5maW5kKHt9KS50b0FycmF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICBhd2FpdCBkYi5jbGllbnQuY2xvc2UoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgfVxyXG59XHJcblxyXG4vL1xyXG4vLyBhc3luYyBmdW5jdGlvbiBjcmVhdGVEb2MoYm9keSkge1xyXG4vLyAgIHRyeSB7XHJcbi8vICAgICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KCk7XHJcbi8vICAgICAgIGNvbnN0IGRhdGFiYXNlID0gY2xpZW50LmRiKFwiZWRpdG9yXCIpO1xyXG4vLyAgICAgICBjb25zdCBkb2NzID0gZGF0YWJhc2UuY29sbGVjdGlvbihcImRvY3NcIik7XHJcbi8vICAgICAgIGNvbnN0IGRvYyA9IHtcclxuLy8gICAgICAgICAgIG5hbWU6IGJvZHkubmFtZSxcclxuLy8gICAgICAgICAgIGNvbnRlbnQ6IGJvZHkuY29udGVudCxcclxuLy8gICAgICAgfTtcclxuLy8gICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZG9jcy5pbnNlcnRPbmUoZG9jKTtcclxuLy8gICAgICAgY29uc29sZS5sb2coXHJcbi8vICAgICAgICAgICBgQSBuZXcgZG9jdW1lbnQgd2l0aCBfaWQ6ICR7cmVzdWx0Lmluc2VydGVkSWR9IHdhcyBjcmVhdGVkLmBcclxuLy8gICAgICAgKTtcclxuLy8gICB9IGZpbmFsbHkge1xyXG4vLyAgICAgICBhd2FpdCBjbGllbnQuY2xvc2UoKTtcclxuLy8gICB9XHJcbi8vIH1cclxuLy9cclxuLy9cclxuLy8gYXN5bmMgZnVuY3Rpb24gdXBkYXRlRG9jKGlkLCBib2R5KSB7XHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KCk7XHJcbi8vICAgICAgICAgY29uc3QgZGIgPSBjbGllbnQuZGIoXCJlZGl0b3JcIik7XHJcbi8vICAgICAgICAgY29uc3QgZG9jcyA9IGRiLmNvbGxlY3Rpb24oXCJkb2NzXCIpO1xyXG4vLyAgICAgICAgIGNvbnN0IGZpbHRlciA9IHsgX2lkOiBPYmplY3RJZChpZCkgfTtcclxuLy8gICAgICAgICBjb25zdCBvcHRpb25zID0geyB1cHNlcnQ6IHRydWUgfTtcclxuLy9cclxuLy8gICAgICAgICBjb25zdCBkb2MgPSB7XHJcbi8vICAgICAgICAgICAgICRzZXQ6IHtcclxuLy8gICAgICAgICAgICAgICAgIG5hbWU6IGJvZHkubmFtZSxcclxuLy8gICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGJvZHkuY29udGVudCxcclxuLy8gICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICB9O1xyXG4vL1xyXG4vLyAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRvY3MudXBkYXRlT25lKGZpbHRlciwgZG9jKTtcclxuLy9cclxuLy8gICAgICAgICBpZiAocmVzdWx0Lm1hdGNoZWRDb3VudCA9PSAwKSB7XHJcbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gbWF0Y2hcIik7XHJcbi8vICAgICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXHJcbi8vICAgICAgICAgICAgICAgICBgJHtyZXN1bHQubWF0Y2hlZENvdW50fSAsIHVwZGF0ZWQgJHtyZXN1bHQubW9kaWZpZWRDb3VudH1gXHJcbi8vICAgICAgICAgICAgICk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSBmaW5hbGx5IHtcclxuLy8gICAgICAgICBhd2FpdCBjbGllbnQuY2xvc2UoKTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBnZXREb2NzLFxyXG4gICAgLy8gZ2V0RG9jLFxyXG4gICAgLy8gY3JlYXRlRG9jLFxyXG4gICAgLy8gdXBkYXRlRG9jXHJcbn07XHJcbiJdfQ==